{"ast":null,"code":"import _classCallCheck from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Applications/MAMP/htdocs/react-app-03/src/screens/request_creation/CreationThird.part.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport 'bootstrap-datepicker';\nimport './request_creation.css';\nimport category from \"./img/Category.svg\";\nimport parameters from \"./img/Parameters1.svg\";\nimport dueDate from \"./img/DueDate1.svg\";\nimport calendar from \"./img/calendar.svg\";\n\nvar RequestCreation =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RequestCreation, _React$Component);\n\n  function RequestCreation(props) {\n    var _this;\n\n    _classCallCheck(this, RequestCreation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RequestCreation).call(this, props));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(RequestCreation, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      e.preventDefault();\n      var firstSelection = document.querySelector(\"#whenDateGroup .selected-menu\");\n      var secondSelection = document.querySelector(\"#tillDateGroup .selected-menu\");\n      var location = document.getElementById('location');\n\n      if (firstSelection && secondSelection && location.value != '') {\n        var whenDate = new Date();\n        var tillDate = new Date();\n        var nowDate = new Date();\n        nowDate.setHours(0, 0, 0, 0); // get whenDate\n\n        if (firstSelection.dataset.id != \"2\") {\n          if (firstSelection.dataset.id == \"0\") whenDate = new Date();else whenDate.setDate(new Date().getDate() + 1);\n        } else {\n          var selectedDate = document.querySelector(\"#whenDateGroup div input\").value;\n          var array = selectedDate.split(\"/\");\n          whenDate = new Date(array[2], array[1] - 1, array[0]);\n\n          if (whenDate < nowDate) {\n            alert(\"Установлена дата раньше текущей\");\n            return;\n          }\n        } //get tillDate\n\n\n        if (secondSelection.dataset.id != \"2\") {\n          if (secondSelection.dataset.id == \"0\") tillDate.setDate(whenDate.getDate() + 1);else tillDate.setDate(whenDate.getDate() + 7);\n        } else {\n          var _selectedDate = document.querySelector(\"#tillDateGroup div input\").value;\n\n          var _array = _selectedDate.split(\"/\");\n\n          tillDate = new Date(_array[2], _array[1] - 1, _array[0]);\n\n          if (tillDate <= whenDate) {\n            alert(\"Установлены противоречивые даты\");\n            return;\n          }\n        }\n\n        tillDate = tillDate.getFullYear() + \"-\" + (tillDate.getMonth() + 1) + \"-\" + tillDate.getDate() + \" 00:00:00\";\n        whenDate = whenDate.getFullYear() + \"-\" + (whenDate.getMonth() + 1) + \"-\" + whenDate.getDate() + \" 00:00:00\";\n        this.props.onDateSelect(whenDate, tillDate, location.value); // tillDate = tillDate.getDate() + \"-\" + (tillDate.getMonth()+1) + \"-\" + tillDate.getFullYear();\n        // whenDate = whenDate.getDate() + \"-\" + (whenDate.getMonth()+1) + \"-\" + whenDate.getFullYear();\n      } else alert(\"Заполните все поля\");\n    }\n  }, {\n    key: \"whenChoose\",\n    value: function whenChoose(e) {\n      var target = e.target;\n\n      if (target.tagName == \"BUTTON\") {\n        var prevButton = target.parentNode.querySelector('.selected-menu');\n\n        if (prevButton) {\n          prevButton.classList.toggle('selected-menu');\n\n          if (prevButton.id == \"whenDateSelectBtn\") {\n            document.querySelectorAll(\".date\")[0].classList.toggle('invisible');\n          }\n        }\n\n        target.classList.toggle('selected-menu');\n\n        if (target.id == \"whenDateSelectBtn\") {\n          document.querySelectorAll(\".date\")[0].classList.toggle('invisible');\n        }\n      }\n    }\n  }, {\n    key: \"tillChoose\",\n    value: function tillChoose(e) {\n      var target = e.target;\n\n      if (target.tagName == \"BUTTON\") {\n        var prevButton = target.parentNode.querySelector('.selected-menu');\n\n        if (prevButton) {\n          prevButton.classList.toggle('selected-menu');\n\n          if (prevButton.id == \"tillDateSelectBtn\") {\n            document.querySelectorAll(\".date\")[1].classList.toggle('invisible');\n          }\n        }\n\n        target.classList.toggle('selected-menu');\n\n        if (target.id == \"tillDateSelectBtn\") {\n          document.querySelectorAll(\".date\")[1].classList.toggle('invisible');\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"main\", {\n        class: \"d-flex flex-column col-12 col-md-8 my-3 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"d-flex justify-content-around mx-auto col-10 col-md-8 pt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: category,\n        width: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"container d-flex purp-gap flex-column justify-content-center m-0 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"\\xA0\")), React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: parameters,\n        width: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"container d-flex purp-gap flex-column justify-content-center m-0 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"\\xA0\")), React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: dueDate,\n        width: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"category-names row col-12 mx-auto flex-nowrap mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        class: \"col-3 col-md-5 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"), React.createElement(\"a\", {\n        href: \"#\",\n        class: \"col-6 col-md-2 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"\\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B\"), React.createElement(\"a\", {\n        href: \"#\",\n        class: \"col-3 col-md-5 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B \\u0438 \\u0441\\u0440\\u043E\\u043A\\u0438\")), React.createElement(\"h5\", {\n        class: \"category-list mt-5 ml-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B \\u0438 \\u0441\\u0440\\u043E\\u043A\\u0438:\"), React.createElement(\"div\", {\n        class: \"d-flex flex-column \\u0441ol-10 px-4 pt-3 pb-5 bg-white rounded shade\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"\\u041A\\u043E\\u0433\\u0434\\u0430?\"), React.createElement(\"div\", {\n        class: \"d-flex mb-5\",\n        id: \"whenDateGroup\",\n        onClick: this.whenChoose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"btn hollow col-2\",\n        \"data-id\": \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"\\u0421\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\"), React.createElement(\"button\", {\n        class: \"btn hollow col-2 ml-3\",\n        \"data-id\": \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0432\\u0442\\u0440\\u0430\"), React.createElement(\"button\", {\n        class: \"btn hollow col-3 ml-3\",\n        \"data-id\": \"2\",\n        id: \"whenDateSelectBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"\\u0423\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0434\\u0430\\u0442\\u0443\"), React.createElement(\"div\", {\n        class: \"date input-hollow col-3 ml-3 d-flex justify-content-center px-2 invisible\",\n        \"data-provide\": \"datepicker\",\n        \"data-date-format\": \"dd/mm/yyyy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        class: \"col-9 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: calendar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        class: \"input-group-addon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"\\u041D\\u0430 \\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E?\"), React.createElement(\"div\", {\n        class: \"d-flex mb-5\",\n        id: \"tillDateGroup\",\n        onClick: this.tillChoose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"btn hollow col-2\",\n        \"data-id\": \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"\\u041D\\u0430 \\u0434\\u0435\\u043D\\u044C\"), React.createElement(\"button\", {\n        class: \"btn hollow col-2 ml-3\",\n        \"data-id\": \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"\\u041D\\u0430 \\u043D\\u0435\\u0434\\u0435\\u043B\\u044E\"), React.createElement(\"button\", {\n        class: \"btn hollow col-3 ml-3\",\n        \"data-id\": \"2\",\n        id: \"tillDateSelectBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"\\u0423\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0434\\u0430\\u0442\\u0443\"), React.createElement(\"div\", {\n        class: \"date input-hollow col-3 ml-3 d-flex justify-content-center px-2 invisible\",\n        \"data-provide\": \"datepicker\",\n        \"data-date-format\": \"dd/mm/yyyy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        class: \"col-9 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: calendar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        class: \"input-group-addon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"\\u0413\\u0434\\u0435?\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"searchbar\",\n        id: \"location\",\n        placeholder: \"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0430\\u0434\\u0440\\u0435\\u0441\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        class: \"btn purp-button mt-3 ml-md-auto px-4\",\n        onClick: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0441\\u0442\\u0438\\u0442\\u044C\"));\n    }\n  }]);\n\n  return RequestCreation;\n}(React.Component);\n\nexport default RequestCreation;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/react-app-03/src/screens/request_creation/CreationThird.part.js"],"names":["React","$","RequestCreation","props","handleChange","bind","e","preventDefault","firstSelection","document","querySelector","secondSelection","location","getElementById","value","whenDate","Date","tillDate","nowDate","setHours","dataset","id","setDate","getDate","selectedDate","array","split","alert","getFullYear","getMonth","onDateSelect","target","tagName","prevButton","parentNode","classList","toggle","querySelectorAll","category","parameters","dueDate","whenChoose","calendar","tillChoose","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport $ from'jquery'\nimport 'bootstrap-datepicker'\n\nimport './request_creation.css'\nimport category from './img/Category.svg'\nimport parameters from './img/Parameters1.svg'\nimport dueDate from './img/DueDate1.svg'\nimport calendar from './img/calendar.svg'\n\nclass RequestCreation extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(e) {\n        e.preventDefault();\n        let firstSelection = document.querySelector(\"#whenDateGroup .selected-menu\");\n        let secondSelection = document.querySelector(\"#tillDateGroup .selected-menu\");\n        let location = document.getElementById('location');\n        if (firstSelection && secondSelection && (location.value != '')) {\n            let whenDate=new Date();\n            let tillDate=new Date();\n            let nowDate = new Date();\n            nowDate.setHours(0,0,0,0)\n\n            // get whenDate\n            if(firstSelection.dataset.id != \"2\") {\n                if(firstSelection.dataset.id == \"0\") whenDate = new Date();\n                else whenDate.setDate(new Date().getDate() + 1);\n            }\n            else {\n                let selectedDate = document.querySelector(\"#whenDateGroup div input\").value;\n                let array = selectedDate.split(\"/\");\n                whenDate = new Date(array[2],array[1]-1,array[0]);\n\n                if(whenDate < nowDate) {\n                    alert (\"Установлена дата раньше текущей\");\n                    return;\n                }\n            }\n            //get tillDate\n            if(secondSelection.dataset.id != \"2\") {\n                if(secondSelection.dataset.id == \"0\") tillDate.setDate(whenDate.getDate() + 1);\n                else tillDate.setDate(whenDate.getDate() + 7);\n            }\n            else {\n                let selectedDate = document.querySelector(\"#tillDateGroup div input\").value;\n                let array = selectedDate.split(\"/\");\n                tillDate = new Date(array[2],array[1]-1,array[0]);\n\n                if(tillDate <= whenDate){\n                    alert(\"Установлены противоречивые даты\");\n                    return;\n                }\n            }\n            tillDate = tillDate.getFullYear() + \"-\" + (tillDate.getMonth()+1) + \"-\" + tillDate.getDate() + \" 00:00:00\";\n            whenDate = whenDate.getFullYear() + \"-\" + (whenDate.getMonth()+1) + \"-\" + whenDate.getDate() + \" 00:00:00\";\n            \n            this.props.onDateSelect(whenDate, tillDate, location.value);\n            \n            // tillDate = tillDate.getDate() + \"-\" + (tillDate.getMonth()+1) + \"-\" + tillDate.getFullYear();\n            // whenDate = whenDate.getDate() + \"-\" + (whenDate.getMonth()+1) + \"-\" + whenDate.getFullYear();\n        }\n\n        else alert(\"Заполните все поля\");\n    }\n    \n    whenChoose(e) {\n        let target = e.target;\n        if (target.tagName == \"BUTTON\") {\n            let prevButton = target.parentNode.querySelector('.selected-menu');\n            if(prevButton) {\n                prevButton.classList.toggle('selected-menu');\n                if(prevButton.id == \"whenDateSelectBtn\") {\n                    document.querySelectorAll(\".date\")[0].classList.toggle('invisible');\n                }\n            }\n            target.classList.toggle('selected-menu')\n            if(target.id == \"whenDateSelectBtn\") {\n                document.querySelectorAll(\".date\")[0].classList.toggle('invisible');\n            }\n        }\n    }\n\n    tillChoose(e) {\n        let target = e.target;\n            if (target.tagName == \"BUTTON\") {\n                let prevButton = target.parentNode.querySelector('.selected-menu');\n                if(prevButton) {\n                    prevButton.classList.toggle('selected-menu');\n                    if(prevButton.id == \"tillDateSelectBtn\") {\n                        document.querySelectorAll(\".date\")[1].classList.toggle('invisible');\n                    }\n                }\n                target.classList.toggle('selected-menu')\n                if(target.id == \"tillDateSelectBtn\") {\n                    document.querySelectorAll(\".date\")[1].classList.toggle('invisible');\n                }\n        }\n    }\n\n    render(){\n        return(\n            <main class=\"d-flex flex-column col-12 col-md-8 my-3 mx-auto\">\n\n                <div class=\"d-flex justify-content-around mx-auto col-10 col-md-8 pt-5\">\n                    <a href=\"#\">\n                        <img src={category} width=\"50\"/>\n                    </a>\n\n                    <div class=\"container d-flex purp-gap flex-column justify-content-center m-0 p-0\">\n                        <div>&nbsp;</div>\n                        <div>&nbsp;</div>\n                    </div>\n\n                    <a href=\"#\">\n                        <img src={parameters} width=\"50\"/>\n                    </a>\n\n                    <div class=\"container d-flex purp-gap flex-column justify-content-center m-0 p-0\">\n                        <div>&nbsp;</div>\n                        <div>&nbsp;</div>\n                    </div>\n\n                    <a href=\"#\">\n                        <img src={dueDate} width=\"50\"/>\n                    </a>\n                </div>\n                <div class=\"category-names row col-12 mx-auto flex-nowrap mt-2\">\n                    <a href=\"#\" class=\"col-3 col-md-5 text-center\">Категории</a>\n                    <a href=\"#\" class=\"col-6 col-md-2 text-center\">Параметры</a>\n                    <a href=\"#\"  class=\"col-3 col-md-5 text-center\">Контакты и сроки</a>\n                </div>\n\n                <h5 class=\"category-list mt-5 ml-4\">Контакты и сроки:</h5>\n                <div class=\"d-flex flex-column сol-10 px-4 pt-3 pb-5 bg-white rounded shade\">\n                    <p>Когда?</p>\n                    <div class=\"d-flex mb-5\" id=\"whenDateGroup\" onClick={this.whenChoose}>\n                        <button class=\"btn hollow col-2\" data-id=\"0\">Сегодня</button>\n                        <button class=\"btn hollow col-2 ml-3\" data-id=\"1\">Завтра</button>\n                        <button class=\"btn hollow col-3 ml-3\" data-id=\"2\" id=\"whenDateSelectBtn\">Указать дату</button>\n                        <div class=\"date input-hollow col-3 ml-3 d-flex justify-content-center px-2 invisible\" data-provide=\"datepicker\" data-date-format=\"dd/mm/yyyy\">\n                                <input type=\"text\" class=\"col-9 text-center\"/>\n                                <img src={calendar}/>\n                                <span class=\"input-group-addon\"></span>\n                        </div>\n                    </div>\n\n                    <p>На сколько?</p>\n                    <div class=\"d-flex mb-5\" id=\"tillDateGroup\" onClick={this.tillChoose}>\n                        <button class=\"btn hollow col-2\" data-id=\"0\">На день</button>\n                        <button class=\"btn hollow col-2 ml-3\" data-id=\"1\">На неделю</button>\n                        <button class=\"btn hollow col-3 ml-3\" data-id=\"2\" id=\"tillDateSelectBtn\">Указать дату</button>\n                        <div class=\"date input-hollow col-3 ml-3 d-flex justify-content-center px-2 invisible\" data-provide=\"datepicker\" data-date-format=\"dd/mm/yyyy\">\n                                <input type=\"text\" class=\"col-9 text-center\"/>\n                                <img src={calendar}/>\n                                <span class=\"input-group-addon\"></span>\n                        </div>\n                    </div>\n\n                    <p>Где?</p>\n                    <input type=\"text\" class=\"searchbar\" id=\"location\" placeholder=\"Укажите адрес\"/>\n                </div>\n                <button class=\"btn purp-button mt-3 ml-md-auto px-4\" onClick={this.handleChange}>Разместить</button>\n            </main>\n        )\n    }\n}\n\nexport default RequestCreation"]},"metadata":{},"sourceType":"module"}