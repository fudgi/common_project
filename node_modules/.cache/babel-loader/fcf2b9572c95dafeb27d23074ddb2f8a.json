{"ast":null,"code":"import _classCallCheck from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Applications/MAMP/htdocs/react-app-03/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Applications/MAMP/htdocs/react-app-03/src/screens/content/request_list/category/category.js\";\nimport React from 'react';\nimport Loading from '../../../common_components/loading';\nimport closer from \"../../../../img/arrowBack.svg\";\nimport Fetch from '../../service/fetch';\n\nvar SortCategory =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SortCategory, _React$Component);\n\n  function SortCategory(props) {\n    var _this;\n\n    _classCallCheck(this, SortCategory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SortCategory).call(this, props));\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n    return _this;\n  }\n\n  _createClass(SortCategory, [{\n    key: \"SideBarClose\",\n    value: function SideBarClose(e) {\n      e.preventDefault();\n      document.getitemById(\"wrapper\").classList.toggle(\"toggled\");\n      document.getitemById(\"menu-toggle\").classList.toggle(\"invisible\");\n    }\n  }, {\n    key: \"SiderBarCategoryClick\",\n    value: function SiderBarCategoryClick(e) {\n      e.preventDefault();\n      var target = e.target;\n\n      if (target.tagName == \"SPAN\") {\n        this.props.categoryChange({\n          selected_category: target.dataset.id\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      Fetch.getData('./category.php', {});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          item = _this$state.item;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"mx-auto mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          id: \"sidebar-wrapper\",\n          onClick: this.SiderBarCategoryClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"sidebar-nav\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          className: \"btn d-md-none mt-3 d-flex justify-content-end\",\n          id: \"in-menu-toggle\",\n          onClick: this.SideBarClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: closer,\n          width: \"10\",\n          id: \"in-menu-toggle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }))), React.createElement(\"li\", {\n          className: \"sidebar-brand\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438:\"), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"accordion m-0 p-0\",\n          id: \"accordionExample\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, this.state.items.map(function (item) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: item.category_id == _this2.props.selected_category ? \"choosen\" : \"\",\n            \"data-id\": item.category_id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, item.category_name));\n        })))));\n      }\n    }\n  }]);\n\n  return SortCategory;\n}(React.Component);\n\nexport default SortCategory;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/react-app-03/src/screens/content/request_list/category/category.js"],"names":["React","Loading","Fetch","SortCategory","props","state","error","isLoaded","items","e","preventDefault","document","getitemById","classList","toggle","target","tagName","categoryChange","selected_category","dataset","id","getData","item","message","SiderBarCategoryClick","SideBarClose","closer","map","category_id","category_name","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Loading from '../../../common_components/loading'\r\nimport closer from '../../../../img/arrowBack.svg'\r\n\r\nimport Fetch from '../../service/fetch'\r\n\r\nclass SortCategory extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            items: []\r\n        }\r\n    }\r\n\r\n    SideBarClose(e) {\r\n        e.preventDefault();\r\n        document.getitemById(\"wrapper\").classList.toggle(\"toggled\");\r\n        document.getitemById(\"menu-toggle\").classList.toggle(\"invisible\");\r\n    }\r\n\r\n    SiderBarCategoryClick(e) {\r\n        e.preventDefault();\r\n        let target = e.target;\r\n        if(target.tagName == \"SPAN\"){\r\n                this.props.categoryChange({selected_category:target.dataset.id})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Fetch.getData('./category.php',{});\r\n    }\r\n\r\n    render() {\r\n        const { error, isLoaded, item } = this.state;\r\n        if (error) {\r\n            return <div className=\"mx-auto mt-3\">Ошибка: {error.message}</div>;\r\n        } else if (!isLoaded) {\r\n            return <Loading />\r\n        } else {\r\n            return (\r\n                <div id=\"sidebar-wrapper\" onClick={this.SiderBarCategoryClick}> \r\n                    <ul className=\"sidebar-nav\">\r\n                        <li>\r\n                            <a href=\"#\" className=\"btn d-md-none mt-3 d-flex justify-content-end\" id=\"in-menu-toggle\"  onClick={this.SideBarClose}>\r\n                                <img src= {closer} width=\"10\" id=\"in-menu-toggle\"/>\r\n                            </a>\r\n                        </li>\r\n                        <li className=\"sidebar-brand\">\r\n                            Категории:\r\n                        </li>\r\n                        <li>\r\n                            <ul className=\"accordion m-0 p-0\" id=\"accordionExample\">\r\n                                {this.state.items.map(item => {\r\n                                    return (\r\n                                        <li>\r\n                                            <span className={item.category_id == this.props.selected_category? \"choosen\":\"\"} data-id={item.category_id}>{item.category_name}</span>\r\n                                        </li>\r\n                                    )  \r\n                                })}\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default SortCategory"]},"metadata":{},"sourceType":"module"}